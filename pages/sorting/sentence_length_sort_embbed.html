<link rel="stylesheet" type="text/css" href="/static/styles.css">
<script src="/static/script.js"></script>
<div id="program_box">
    <div class="link_bubble">
        <p contenteditable="plaintext-only" spellcheck="false" name="array">This algorithm will organize sentences by separating them by their period. Clumps of spaces will be ignored. Spaces at the start and end of the sentence will be ignored. Due to how vague the term "sentence length" is, this tool provides different options. It can count the words of the sentences and sort them that way; it can also count the characters. In both character counting modes, clumps are spaces that will be removed because they don't conform to many grammatical standards around the word.</p>
    </div>
    <div class="link_bubble">
        <select name="Sorting Type">
            <option value="A">Smallest to Greatest by Word Count</option>
            <option value="B">Greatest to Smallest by Word Count</option>
            <option value="C">Smallest to Greatest by Character Count With Whitespaces</option>
            <option value="D">Greatest to Smallest by Character Count With Whitespaces</option>
            <option value="E">Smallest to Greatest by Character Count Without Whitespaces</option>
            <option value="F">Greatest to Smallest by Character Count Without Whitespaces</option>
        </select>
    </div>
    <div class="link_bubble" onclick="enter()">
        <p><b>Enter</b></p>
    </div>
    <div class="click_to_copy" onclick="copy(this)">
        <p><i><span style="color: grey;" name="output">Output</span></i></p>
    </div>
    <a href="https://algorithmsoup.com" name="water_mark"><p class="water_mark" >Algorithm Soup</p></a>
</div>
<script>
    function enter() {
        let array_string = document.getElementsByName("array")[0].innerText.replace(/[\r\n]+/gm, " ");
        let type = document.getElementsByName("Sorting Type")[0].value;
        let output = document.getElementsByName("output")[0];
        let array = array_string.split(".");
        console.log(array);
        
        if (type == "A") {
            array.sort(function(i, j){
                if (i.split(" ").filter(function (k) {return k != ""}).length < j.split(" ").filter(function (k) {return k != ""}).length) {
                    return -1;
                } else if (i.split(" ").filter(function (k) {return k != ""}).length === j.split(" ").filter(function (k) {return k != ""}).length) {
                    return 0;
                } else {
                    return 1;
                }
            });
        }
        else if (type == "B") {
            array.sort(function(i, j){
                if (i.split(" ").filter(function (k) {return k != ""}).length > j.split(" ").filter(function (k) {return k != ""}).length) {
                    return -1;
                } else if (i.split(" ").filter(function (k) {return k != ""}).length === j.split(" ").filter(function (k) {return k != ""}).length) {
                    return 0;
                } else {
                    return 1;
                }
            });
        }
        else if (type == "C") {
            array.sort(function(i, j){
                if (i.trim().replace(/ +(?= )/g,'').length < j.trim().replace(/ +(?= )/g,'').length) {
                    return -1;
                } else if (i.trim().replace(/ +(?= )/g,'').length === j.trim().replace(/ +(?= )/g,'').length) {
                    return 0;
                } else {
                    return 1;
                }
            });
        }
        else if (type == "D") {
            array.sort(function(i, j){
                if (i.trim().replace(/ +(?= )/g,'').length > j.trim().replace(/ +(?= )/g,'').length) {
                    return -1;
                } else if (i.trim().replace(/ +(?= )/g,'').length === j.trim().replace(/ +(?= )/g,'').length) {
                    return 0;
                } else {
                    return 1;
                }
            });
            
        }
        else if (type == "E") {
            array.sort(function(i, j){
                if (i.trim().replace(/\s+/g, "").length < j.trim().replace(/\s+/g, "").length) {
                    return -1;
                } else if (i.trim().replace(/\s+/g, "").length === j.trim().replace(/\s+/g, "").length) {
                    return 0;
                } else {
                    return 1;
                }
            });
        }
        else {
            array.sort(function(i, j){
                if (i.trim().replace(/\s+/g, "").length > j.trim().replace(/\s+/g, "").length) {
                    return -1;
                } else if (i.trim().replace(/\s+/g, "").length === j.trim().replace(/\s+/g, "").length) {
                    return 0;
                } else {
                    return 1;
                }
            });
        }
        let buffer = "";
        for (let i = 0; i < array.length; i++) {
            if (array[i].replace(/\s+/g, "") == "") {
                continue;
            }
            if (i != (array.length - 1)) {
                buffer += array[i] + ".\n";
            }
            else {
                buffer += array[i] + ".";
            }
        }
        output.innerText = buffer;
    }
    document.getElementsByName("water_mark")[0].href = window.location.origin;
</script>