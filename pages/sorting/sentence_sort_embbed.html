<link rel="stylesheet" type="text/css" href="/static/styles.css">
<script src="/static/script.js"></script>
<div id="program_box">
    <div class="link_bubble">
        <p contenteditable="plaintext-only" spellcheck="false" name="array">This algorithm will organize sentences by separating them by their period. Capital letters will be ignored and will not be given priority over others. Shorter sentences have priority over longer sentences. Further more, the quality of the sorting process cannot be guaranteed if different scripts are used.</p>
    </div>
    <div class="link_bubble">
        <select name="Sorting Type">
            <option value="A">Alphabetical Order</option>
            <option value="B">Reverse Alphabetical Order</option>
        </select>
    </div>
    <div class="link_bubble" onclick="enter()">
        <p><b>Enter</b></p>
    </div>
    <div class="click_to_copy" onclick="copy(this)">
        <p><i><span style="color: grey;" name="output">Output</span></i></p>
    </div>
    <a href="https://algorithmsoup.com" name="water_mark"><p class="water_mark" >Algorithm Soup</p></a>
</div>
<script>
    function enter() {
        let array_string = document.getElementsByName("array")[0].innerText.replace(/[\r\n]+/gm, " ");
        let type = document.getElementsByName("Sorting Type")[0].value;
        let output = document.getElementsByName("output")[0];
        let array = array_string.split(".");
        
        if (type == "A") {
            array.sort(function(i, j){
                if (i.toUpperCase().replace(/\s+/g, "") < j.toUpperCase().replace(/\s+/g, "")) {
                    return -1;
                } else if (i.toUpperCase().replace(/\s+/g, "") === j.toUpperCase().replace(/\s+/g, "")) {
                    return 0;
                } else {
                    return 1;
                }
            });
        }
        else {
            array.sort(function(i, j){
                if (i.toUpperCase().replace(/\s+/g, "") > j.toUpperCase().replace(/\s+/g, "")) {
                    return -1;
                } else if (i.toUpperCase().replace(/\s+/g, "") === j.toUpperCase().replace(/\s+/g, "")) {
                    return 0;
                } else {
                    return 1;
                }
            });
        }
        let buffer = "";
        for (let i = 0; i < array.length; i++) {
            if (array[i].replace(/\s+/g, "") == "") {
                continue;
            }
            if (i != (array.length - 1)) {
                buffer += array[i] + ".\n";
            }
            else {
                buffer += array[i] + ".";
            }
        }
        output.innerText = buffer;
    }
    document.getElementsByName("water_mark")[0].href = window.location.origin;
</script>