<link rel="stylesheet" type="text/css" href="/static/styles.css">
<script src="/static/script.js"></script>
<div id="program_box">
    <div class="link_bubble">
        <p contenteditable="plaintext-only" spellcheck="false" name="array">The quick brown fox jumps over the lazy dog</p>
    </div>
    <div class="link_bubble">
        <select name="Sorting Type">
            <option value="A">Alphabetical Order</option>
            <option value="B">Reverse Alphabetical Order</option>
        </select>
    </div>
    <div class="link_bubble" onclick="enter()">
        <p><b>Enter</b></p>
    </div>
    <div class="click_to_copy" onclick="copy(this)">
        <p><i><span style="color: grey;" name="output">Output</span></i></p>
    </div>
    <a href="https://algorithmsoup.com" name="water_mark"><p class="water_mark" >Algorithm Soup</p></a>
</div>
<script>
    function enter() {
        let array_string = document.getElementsByName("array")[0].innerText.replace(/[\r\n]+/gm, " ");
        let type = document.getElementsByName("Sorting Type")[0].value;
        let output = document.getElementsByName("output")[0];
        let array = array_string.split(" ");
        
        if (type == "A") {
            array.sort(function(i, j){
                if (i.toUpperCase() < j.toUpperCase()) {
                    return -1;
                } else if (i.toUpperCase() === j.toUpperCase()) {
                    if (i < j) {
                        return -1;
                    }
                    else if (i > j) {
                        return 1;
                    }
                    return 0;
                } else {
                    return 1;
                }
            });
        }
        else {
            array.sort(function(i, j){
                if (i.toUpperCase() > j.toUpperCase()) {
                    return -1;
                } else if (i.toUpperCase() === j.toUpperCase()) {
                    if (i > j) {
                        return -1;
                    }
                    else if (i < j) {
                        return 1;
                    }
                    return 0;
                } else {
                    return 1;
                }
            });
        }
        let buffer = "";
        for (let i = 0; i < array.length; i++) {
            if (i != (array.length - 1)) {
                buffer += array[i] + " ";
            }
            else {
                buffer += array[i];
            }
        }
        output.innerText = buffer;
    }
    document.getElementsByName("water_mark")[0].href = window.location.origin;
</script>